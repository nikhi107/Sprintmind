issue_id,repo,title,body,text
6835,requests/requests,why requests.session doesn't send stored cookie?,"here is a reproducible example: - server.py - client.py and logs: - server - client why doesn't send stored cookies at second request? more over, why domain looks like inside session cookies. i set it as without leading dot . requests version - 2.31.0","why requests.session doesn't send stored cookie? here is a reproducible example: - server.py - client.py and logs: - server - client why doesn't send stored cookies at second request? more over, why domain looks like inside session cookies. i set it as without leading dot . requests version - 2.31.0"
6833,requests/requests,lack of respect for questions and support requests,"sincerely, i don't know what is the objective of those responsible for if they don't know how to kill this project, if they are bored or if they are simply busier with other things. i have been observing your behavior for some time now, and it worries me: .- don't you have time to develop this library?: perfect . .- don't you want to continue to be responsible for it?: perfect . .- don't you know how to respond to support requests?: perfect . but don't automatically refer support requests or problems to one of the most aggressive and rude sites when faced with support questions, especially from those who are just starting to program. you should rethink, seriously, what to do with it is far behind other libraries that provide current functionalities, it is far behind for commits that really provide usefulness you have been months without contributing anything useful to this library . if you are tired, perfect : say it widely. and allow others to continue the work: people with enthusiasm and time to maintain and improve this library as it deserves. because our time is also important : don't give an image of an updated, friendly and supported library; because that's not the reality i see. and this is said by someone who has recognized all your work: but sometimes it is wise to know when to give way to other people. and i maintain, on github, a project infinitely smaller than yours, but the moment i lose the illusion, the desire, the smile, to respond to every pr, every issue, every suggestion, at that moment i will hang up the gloves , allowing wiser people to continue the path. regards,","lack of respect for questions and support requests sincerely, i don't know what is the objective of those responsible for if they don't know how to kill this project, if they are bored or if they are simply busier with other things. i have been observing your behavior for some time now, and it worries me: .- don't you have time to develop this library?: perfect . .- don't you want to continue to be responsible for it?: perfect . .- don't you know how to respond to support requests?: perfect . but don't automatically refer support requests or problems to one of the most aggressive and rude sites when faced with support questions, especially from those who are just starting to program. you should rethink, seriously, what to do with it is far behind other libraries that provide current functionalities, it is far behind for commits that really provide usefulness you have been months without contributing anything useful to this library . if you are tired, perfect : say it widely. and allow others to continue the work: people with enthusiasm and time to maintain and improve this library as it deserves. because our time is also important : don't give an image of an updated, friendly and supported library; because that's not the reality i see. and this is said by someone who has recognized all your work: but sometimes it is wise to know when to give way to other people. and i maintain, on github, a project infinitely smaller than yours, but the moment i lose the illusion, the desire, the smile, to respond to every pr, every issue, every suggestion, at that moment i will hang up the gloves , allowing wiser people to continue the path. regards,"
6823,requests/requests,chunked put using a generator function...,"!-- summary. -- i made a generator function that returns str chunks; i passed it to data ...data=my func ... , and it eventually comes back with the error ""memoryview: a bytes-like object is required, not 'str'"" debug statements indicate this is happening on the first yield... documentation indicates this is the way to do it: expected result !-- what you expected. -- no error! actual result !-- what happened instead. -- the error ""memoryview: a bytes-like object is required, not 'str'"". reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","chunked put using a generator function... !-- summary. -- i made a generator function that returns str chunks; i passed it to data ...data=my func ... , and it eventually comes back with the error ""memoryview: a bytes-like object is required, not 'str'"" debug statements indicate this is happening on the first yield... documentation indicates this is the way to do it: expected result !-- what you expected. -- no error! actual result !-- what happened instead. -- the error ""memoryview: a bytes-like object is required, not 'str'"". reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
2766,requests/requests,document threading contract for session class,"right now, it's quite difficult to figure out if the session class is threadsafe or not. the docs don't say, apart from a ""thread-safe"" bullet on the home page. google led me to whose first answer boils down to ""be very careful"". inspired by that so author, i've been auditing the code myself, and have come to the conclusion that session is probably not threadsafe. the use of set off red flags for me. reading through other requests bug reports, i see maintainers recommending one session per thread, which implies that it's not threadsafe. the documentation should clarify this and recommend how to use session in multithreaded programs. possible text: if that's accurate, let me know and i'll submit a pr. also, i think the ""thread-safe"" bullet should be removed from the home page, or maybe replaced by ""thread-safe in certain circumstances"".","document threading contract for session class right now, it's quite difficult to figure out if the session class is threadsafe or not. the docs don't say, apart from a ""thread-safe"" bullet on the home page. google led me to whose first answer boils down to ""be very careful"". inspired by that so author, i've been auditing the code myself, and have come to the conclusion that session is probably not threadsafe. the use of set off red flags for me. reading through other requests bug reports, i see maintainers recommending one session per thread, which implies that it's not threadsafe. the documentation should clarify this and recommend how to use session in multithreaded programs. possible text: if that's accurate, let me know and i'll submit a pr. also, i think the ""thread-safe"" bullet should be removed from the home page, or maybe replaced by ""thread-safe in certain circumstances""."
7033,requests/requests,requests with self signed certs broken,"specifying a cert bundle in 2.28.1 works fine, but in 2.32.5 fails with requests.exceptions.sslerror expected result response 200 actual result traceback most recent call last : file "" stdin "", line 1, in module file ""/usr/local/lib/python3.11/site-packages/requests/api.py"", line 73, in get return request ""get"", url, params=params, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/api.py"", line 59, in request return session.request method=method, url=url, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/sessions.py"", line 589, in request resp = self.send prep, send kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/sessions.py"", line 703, in send r = adapter.send request, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/adapters.py"", line 675, in send raise sslerror e, request=request requests.exceptions.sslerror: httpsconnectionpool host='lal-apps', port=443 : max retries exceeded with url: / caused by sslerror sslerror 1, ' ssl: sslv3 alert handshake failure sslv3 alert handshake failure ssl.c:1016 ' reproduction steps system information requests ca bundle set to valid cert bundle, works with 2.28.1","requests with self signed certs broken specifying a cert bundle in 2.28.1 works fine, but in 2.32.5 fails with requests.exceptions.sslerror expected result response 200 actual result traceback most recent call last : file "" stdin "", line 1, in module file ""/usr/local/lib/python3.11/site-packages/requests/api.py"", line 73, in get return request ""get"", url, params=params, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/api.py"", line 59, in request return session.request method=method, url=url, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/sessions.py"", line 589, in request resp = self.send prep, send kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/sessions.py"", line 703, in send r = adapter.send request, kwargs ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ file ""/usr/local/lib/python3.11/site-packages/requests/adapters.py"", line 675, in send raise sslerror e, request=request requests.exceptions.sslerror: httpsconnectionpool host='lal-apps', port=443 : max retries exceeded with url: / caused by sslerror sslerror 1, ' ssl: sslv3 alert handshake failure sslv3 alert handshake failure ssl.c:1016 ' reproduction steps system information requests ca bundle set to valid cert bundle, works with 2.28.1"
7079,requests/requests,feature request: add built-in logger hooks for all http requests and responses,"it would be helpful if the requests library provided an easy and consistent way to log every outgoing request and incoming response without manually wrapping or subclassing session objects. motivation many developers especially in production systems, microservices, and debugging tools need to: trace outgoing requests urls, methods, headers, payloads log response details status code, latency, headers, etc. integrate logs with frameworks like logging, structlog, or jsonlogger","feature request: add built-in logger hooks for all http requests and responses it would be helpful if the requests library provided an easy and consistent way to log every outgoing request and incoming response without manually wrapping or subclassing session objects. motivation many developers especially in production systems, microservices, and debugging tools need to: trace outgoing requests urls, methods, headers, payloads log response details status code, latency, headers, etc. integrate logs with frameworks like logging, structlog, or jsonlogger"
6804,requests/requests,xml gets shortened when submitting a post request,"i am trying to send an xml in a post request to a soap endpoint of a tms server. the code is the following: the server returns a response saying that it got an unexpected end of input in lixe x, char y. the error is dependent on the size of the xml, but is reproducible. i am attaching 2 xmls as examples: ex 1: the error here is unexpected end of input block at row 161, col 15 ex 2: here the row is the same but the column is different","xml gets shortened when submitting a post request i am trying to send an xml in a post request to a soap endpoint of a tms server. the code is the following: the server returns a response saying that it got an unexpected end of input in lixe x, char y. the error is dependent on the size of the xml, but is reproducible. i am attaching 2 xmls as examples: ex 1: the error here is unexpected end of input block at row 161, col 15 ex 2: here the row is the same but the column is different"
6815,requests/requests,handle permissionerror when importing adapter.py,"in windows, if the running process has restricted permissions the process may not have permission to read the file ""c:\\users\\user\\documents\\syskeylog.txt"". sounds silly, but this error can propagate through dependencies and prevent them from complete importing, even if the functionality you expect from them do not depend on this project. expected result can import adapter.py actual result reproduction steps run the following code in windows. you gotta remove a line and un-indent a block. see comment within the code. system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","handle permissionerror when importing adapter.py in windows, if the running process has restricted permissions the process may not have permission to read the file ""c:\\users\\user\\documents\\syskeylog.txt"". sounds silly, but this error can propagate through dependencies and prevent them from complete importing, even if the functionality you expect from them do not depend on this project. expected result can import adapter.py actual result reproduction steps run the following code in windows. you gotta remove a line and un-indent a block. see comment within the code. system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
7055,requests/requests,"could not find a suitable tls ca certificate bundle, invalid path: /agents/python/common/certifi/cacert.pem","system information this is a python azure webapp, running python 3.11 let me know if you need any more information i will provide it","could not find a suitable tls ca certificate bundle, invalid path: /agents/python/common/certifi/cacert.pem system information this is a python azure webapp, running python 3.11 let me know if you need any more information i will provide it"
7048,requests/requests,"cloudflare blocks my api bot, but not when i use","i apologize for the long title, i was sending api requests to thingiverse.com but my bot wasn't responding back and found out cloudflare is blocking my bot, i did a quick test using library and was getting return code 200. i dug a little deeper and found requests adds user-agent, and tried this work around here but still had no luck. is there anyway i can check what gets sent either from requests or urllib3 since something clearly does if i don't get blocked when i use i would like to resolve this with requests library so i am not essentially relying on only one method.","cloudflare blocks my api bot, but not when i use i apologize for the long title, i was sending api requests to thingiverse.com but my bot wasn't responding back and found out cloudflare is blocking my bot, i did a quick test using library and was getting return code 200. i dug a little deeper and found requests adds user-agent, and tried this work around here but still had no luck. is there anyway i can check what gets sent either from requests or urllib3 since something clearly does if i don't get blocked when i use i would like to resolve this with requests library so i am not essentially relying on only one method."
7047,requests/requests,add response status code to httperror exception,"currently, when response.raise for status raises an httperror , the exception message includes the status code, reason, and url as a string, but the exception object itself doesn't expose the status code or response object as easily accessible attributes for programmatic error handling. current behavior from models.py lines 999-1026 : def raise for status self : """"""raises :class: httperror cci:2://file:///e:/ideas/new%20solid/requests/src/requests/exceptions.py:54:0-55:33 , if one occurred."""""" = """" if isinstance self.reason, bytes : decode reason... if 400 = self.status code 500: = f"" self.status code client error: reason for url: self.url "" elif 500 = self.status code 600: = f"" self.status code server error: reason for url: self.url "" if raise httperror response=self while the response is passed to the exception, users need to parse the error message string or access exception.response.status code to get the status code programmatically. what this feature will solve better error handling: developers can catch httperror and easily branch logic based on specific status codes e.g., retry on 429, different handling for 401 vs 403 without string parsing cleaner code: direct attribute access e.status code is more pythonic than e.response.status code or parsing strings consistency: other exception types in requests already expose relevant attributes directly e.g., jsondecodeerror has msg, doc, pos backward compatible: adding attributes doesn't break existing code","add response status code to httperror exception currently, when response.raise for status raises an httperror , the exception message includes the status code, reason, and url as a string, but the exception object itself doesn't expose the status code or response object as easily accessible attributes for programmatic error handling. current behavior from models.py lines 999-1026 : def raise for status self : """"""raises :class: httperror cci:2://file:///e:/ideas/new%20solid/requests/src/requests/exceptions.py:54:0-55:33 , if one occurred."""""" = """" if isinstance self.reason, bytes : decode reason... if 400 = self.status code 500: = f"" self.status code client error: reason for url: self.url "" elif 500 = self.status code 600: = f"" self.status code server error: reason for url: self.url "" if raise httperror response=self while the response is passed to the exception, users need to parse the error message string or access exception.response.status code to get the status code programmatically. what this feature will solve better error handling: developers can catch httperror and easily branch logic based on specific status codes e.g., retry on 429, different handling for 401 vs 403 without string parsing cleaner code: direct attribute access e.status code is more pythonic than e.response.status code or parsing strings consistency: other exception types in requests already expose relevant attributes directly e.g., jsondecodeerror has msg, doc, pos backward compatible: adding attributes doesn't break existing code"
6809,requests/requests,retry hangs indefinitely for 503 status code,"when making a get request to a url that returns a 503 status code, the retry strategy causes the code to loop indefinitely, regardless of whether the 503 status code is included in the status forcelist parameter. expected result the retry mechanism should follow the configured retry policy e.g., retry a specified number of times and eventually raise an error after the maximum retries. actual result the code retries indefinitely without raising an exception or stopping. reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","retry hangs indefinitely for 503 status code when making a get request to a url that returns a 503 status code, the retry strategy causes the code to loop indefinitely, regardless of whether the 503 status code is included in the status forcelist parameter. expected result the retry mechanism should follow the configured retry policy e.g., retry a specified number of times and eventually raise an error after the maximum retries. actual result the code retries indefinitely without raising an exception or stopping. reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
7045,requests/requests,about connection release when maintaining sessions,"while using the requests library for http requests, i noticed that there were many tcp connections in the fin wait2 state on the server. through code analysis, i found that these connections originated from the connection pool created by the underlying urllib3 library used by the requests library. the application needs to provide services at any time, so it created a session object that is reused throughout the entire process lifecycle, and it does not actively call the method before the process ends. after reading the source code, i discovered that the requests library only retrieves a connection from the connection pool when making a new http request. it checks whether the connection is available, and if not, it immediately closes the connection and creates a new one. after receiving an http response, the connection is returned to the connection pool. these connections remain idle until the next request arrives. is this the actual situation? if so, then when the server actively closes the connection by sending a fin packet at the tcp protocol layer , the requests library does not detect this state change it does not have a daemon thread continuously checking the connection status . as a result, the server sees many connections in the fin wait2 state that have been open for a long time. what is the rationale behind this design? thank you very much!","about connection release when maintaining sessions while using the requests library for http requests, i noticed that there were many tcp connections in the fin wait2 state on the server. through code analysis, i found that these connections originated from the connection pool created by the underlying urllib3 library used by the requests library. the application needs to provide services at any time, so it created a session object that is reused throughout the entire process lifecycle, and it does not actively call the method before the process ends. after reading the source code, i discovered that the requests library only retrieves a connection from the connection pool when making a new http request. it checks whether the connection is available, and if not, it immediately closes the connection and creates a new one. after receiving an http response, the connection is returned to the connection pool. these connections remain idle until the next request arrives. is this the actual situation? if so, then when the server actively closes the connection by sending a fin packet at the tcp protocol layer , the requests library does not detect this state change it does not have a daemon thread continuously checking the connection status . as a result, the server sees many connections in the fin wait2 state that have been open for a long time. what is the rationale behind this design? thank you very much!"
6807,requests/requests,what is the point of this line?,,what is the point of this line?
7039,requests/requests,type hint needed,"type hint helps to write better code, but in requests there's basically none","type hint needed type hint helps to write better code, but in requests there's basically none"
6647,requests/requests,wrong ca certificates used in requests.session.send,"bug in requests.sessions.py: session.merge environment settings is called in session.request and not in session.send which means if users want to build their own prepared requests see example below , the correct certificates file will not be used unless explicitly passed to send. i believe these environment settings should be updated in session.send instead. reproduction steps expected result no output actual result system information $ python -m requests.help","wrong ca certificates used in requests.session.send bug in requests.sessions.py: session.merge environment settings is called in session.request and not in session.send which means if users want to build their own prepared requests see example below , the correct certificates file will not be used unless explicitly passed to send. i believe these environment settings should be updated in session.send instead. reproduction steps expected result no output actual result system information $ python -m requests.help"
6730,requests/requests,certificate loading regression with httpadapters in 2.32.3,"!-- summary. -- it appears that in version default certificates are no longer loaded for custom contexts when they were previously. i guess this might be a duplicate/related to also related to - adding resolves the issue, but this wasn't required in previous versions and thus makes upgrading to breaking. expected result !-- what you expected. -- with the code below using version i get the url content with no error. actual result !-- what happened instead. -- using i get: reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","certificate loading regression with httpadapters in 2.32.3 !-- summary. -- it appears that in version default certificates are no longer loaded for custom contexts when they were previously. i guess this might be a duplicate/related to also related to - adding resolves the issue, but this wasn't required in previous versions and thus makes upgrading to breaking. expected result !-- what you expected. -- with the code below using version i get the url content with no error. actual result !-- what happened instead. -- using i get: reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
6794,requests/requests,requests changes the url on get,"when fetching a url containing with get, the url gets modified and is replaced by . the problem with this is that the server may return a 404 when using even if the resource exists when looking for it using i.e.: the server is expecting you to honor the lower-case encoding . this should not be the case since url percent-encoding is case insensitive but actual servers may not comply with that and require you to use lower case. this comes from a real use case where the server is generating and providing a url to download a file, and refuses to reply with the file unless is used instead of . expected result requests should not modify the url, since is already encoded and lower-case is just as valid encoding as upper-case . this expected behavior can be found when using other libraries like . actual result requests modifies the url, changing to . reproduction steps system information $ python -m requests.help","requests changes the url on get when fetching a url containing with get, the url gets modified and is replaced by . the problem with this is that the server may return a 404 when using even if the resource exists when looking for it using i.e.: the server is expecting you to honor the lower-case encoding . this should not be the case since url percent-encoding is case insensitive but actual servers may not comply with that and require you to use lower case. this comes from a real use case where the server is generating and providing a url to download a file, and refuses to reply with the file unless is used instead of . expected result requests should not modify the url, since is already encoded and lower-case is just as valid encoding as upper-case . this expected behavior can be found when using other libraries like . actual result requests modifies the url, changing to . reproduction steps system information $ python -m requests.help"
7031,requests/requests,"ai bug analysis: readtimeout exception httpsconnectionpool host='domain.com', port=443 : read timed out. read timeout=10","ü§ñ bug report original error: --- üî¨ root cause analysis the error message you're encountering, , indicates that a request made to on port 443 did not receive a response within the specified timeout period, which in this case is 10 seconds. this timeout setting dictates how long the client will wait for a server to send a response before giving up and raising an error. based on the provided code context, which involves tests using the library to make http requests, there are a few potential root causes for this issue: 1. server response delay: the server at might be taking too long to respond to requests. this could be due to server-side processing delays, heavy load on the server, or network latency issues. the server's response time exceeds the specified timeout of 10 seconds, leading to a exception. 2. network issues: there could be network connectivity issues between the client the machine running the test code and the server . this includes low bandwidth, high latency, or intermittent connectivity that results in requests taking longer than expected to complete. 3. timeout configuration: a timeout of 10 seconds might be too short for the request to complete successfully, especially if the request is complex, the server is intentionally delaying responses e.g., for rate limiting , or if there are known network delays. 4. test server configuration: the code snippets provided indicate the use of a for testing purposes, with various configurations including expired and valid certificates. if the error is occurring during these tests, it's possible that the test server setup e.g., is not correctly handling requests or is intentionally slow to respond as part of the test scenario. however, the error message specifically mentions , which suggests the issue is more likely related to an actual network request rather than the local test server setup. 5. client configuration: the client configuration, particularly the session and request setup in the library, might be contributing to the issue. for example, if the client is not correctly handling http keep-alive connections or if there's an issue with the way requests are being sent e.g., large payloads, incorrect headers , it could lead to delays and timeouts. to address this issue, consider the following steps: - increase the timeout: temporarily increase the timeout value to see if the request eventually succeeds. this can help determine if the timeout is simply too short for the given operation. - server investigation: check the server's health, load, and response times to see if there are any issues that could be causing delays. - network diagnostics: run network diagnostics to check for any connectivity issues between the client and the server. - review test configuration: if the issue is occurring during testing with , review the server setup and ensure it's designed to respond in a timely manner. - client request review: examine the client request configuration for any potential issues that could be optimized to prevent timeouts. in summary, the exception is typically a symptom of the client not receiving a response from the server within the specified timeout period. identifying the root cause requires investigating server response times, network connectivity, timeout settings, and both client and server configurations. --- üõ†Ô∏è suggested fix given the root cause analysis, the primary issue seems to be related to the timeout setting being too short for the request to complete successfully under certain conditions. to address this, we can adjust the timeout settings in the library usage within the provided test cases. this involves modifying the method calls to include a longer timeout period. here's a code snippet that demonstrates how to adjust the timeout setting: explanation of the fix: - timeout adjustment: the key change in this snippet is the inclusion of the parameter in the method calls. this increases the timeout duration from the default 10 seconds to 30 seconds, providing additional time for the server to respond before a exception is raised. - why increase the timeout?: based on the root cause analysis, the server might need more time to process requests under certain conditions e.g., high load, complex operations, network latency . increasing the timeout gives the server a reasonable buffer to complete the request and respond. - impact of the change: this change should reduce or eliminate the occurrence of exceptions under normal operating conditions by allowing more time for requests to complete. however, it's important to monitor the impact of this change, as significantly increasing timeouts could lead to longer waits in scenarios where a server or network issue prevents a response. - general recommendation: always consider the specific context and requirements of your application when adjusting timeout settings. while increasing the timeout can solve immediate timeout issues, it's also crucial to investigate and address the underlying causes of delayed responses e.g., server performance, network configuration .","ai bug analysis: readtimeout exception httpsconnectionpool host='domain.com', port=443 : read timed out. read timeout=10 ü§ñ bug report original error: --- üî¨ root cause analysis the error message you're encountering, , indicates that a request made to on port 443 did not receive a response within the specified timeout period, which in this case is 10 seconds. this timeout setting dictates how long the client will wait for a server to send a response before giving up and raising an error. based on the provided code context, which involves tests using the library to make http requests, there are a few potential root causes for this issue: 1. server response delay: the server at might be taking too long to respond to requests. this could be due to server-side processing delays, heavy load on the server, or network latency issues. the server's response time exceeds the specified timeout of 10 seconds, leading to a exception. 2. network issues: there could be network connectivity issues between the client the machine running the test code and the server . this includes low bandwidth, high latency, or intermittent connectivity that results in requests taking longer than expected to complete. 3. timeout configuration: a timeout of 10 seconds might be too short for the request to complete successfully, especially if the request is complex, the server is intentionally delaying responses e.g., for rate limiting , or if there are known network delays. 4. test server configuration: the code snippets provided indicate the use of a for testing purposes, with various configurations including expired and valid certificates. if the error is occurring during these tests, it's possible that the test server setup e.g., is not correctly handling requests or is intentionally slow to respond as part of the test scenario. however, the error message specifically mentions , which suggests the issue is more likely related to an actual network request rather than the local test server setup. 5. client configuration: the client configuration, particularly the session and request setup in the library, might be contributing to the issue. for example, if the client is not correctly handling http keep-alive connections or if there's an issue with the way requests are being sent e.g., large payloads, incorrect headers , it could lead to delays and timeouts. to address this issue, consider the following steps: - increase the timeout: temporarily increase the timeout value to see if the request eventually succeeds. this can help determine if the timeout is simply too short for the given operation. - server investigation: check the server's health, load, and response times to see if there are any issues that could be causing delays. - network diagnostics: run network diagnostics to check for any connectivity issues between the client and the server. - review test configuration: if the issue is occurring during testing with , review the server setup and ensure it's designed to respond in a timely manner. - client request review: examine the client request configuration for any potential issues that could be optimized to prevent timeouts. in summary, the exception is typically a symptom of the client not receiving a response from the server within the specified timeout period. identifying the root cause requires investigating server response times, network connectivity, timeout settings, and both client and server configurations. --- üõ†Ô∏è suggested fix given the root cause analysis, the primary issue seems to be related to the timeout setting being too short for the request to complete successfully under certain conditions. to address this, we can adjust the timeout settings in the library usage within the provided test cases. this involves modifying the method calls to include a longer timeout period. here's a code snippet that demonstrates how to adjust the timeout setting: explanation of the fix: - timeout adjustment: the key change in this snippet is the inclusion of the parameter in the method calls. this increases the timeout duration from the default 10 seconds to 30 seconds, providing additional time for the server to respond before a exception is raised. - why increase the timeout?: based on the root cause analysis, the server might need more time to process requests under certain conditions e.g., high load, complex operations, network latency . increasing the timeout gives the server a reasonable buffer to complete the request and respond. - impact of the change: this change should reduce or eliminate the occurrence of exceptions under normal operating conditions by allowing more time for requests to complete. however, it's important to monitor the impact of this change, as significantly increasing timeouts could lead to longer waits in scenarios where a server or network issue prevents a response. - general recommendation: always consider the specific context and requirements of your application when adjusting timeout settings. while increasing the timeout can solve immediate timeout issues, it's also crucial to investigate and address the underlying causes of delayed responses e.g., server performance, network configuration ."
7029,requests/requests,"one request fails, but others don't; it also succeeds in terminal","i checked a lot of trouble-shoot topics, but didn't find what might be wrong here... i'm going off this api documentation: this code: ... results in this output: but when i make that http request to in powershell, the response is ...: -method ""put"" -headers @ ""accept""=""application/json"" ""authorization""=""bearer mytoken "" -body "" "":1 "" statuscode : 200 statusdescription : ok content : ""id"":1,""type"":""three day"" rawcontent : http/1.1 200 ok date: fri, 12 sep 2025 17:57:29 gmt transfer-encoding: chunked connection: keep-alive vary: origin vary: access-control-request-method vary: access-control-request-headers vary:‚Ä¶ headers : date, system.string , transfer-encoding, system.string , connection, system.string , vary, system.string ‚Ä¶ images : inputfields : links : rawcontentlength : 27 relationlink : ` could someone guide me to a solution? thanks in advance! ps obviously, myzone and mytoken are placeholders for privacy reasons.","one request fails, but others don't; it also succeeds in terminal i checked a lot of trouble-shoot topics, but didn't find what might be wrong here... i'm going off this api documentation: this code: ... results in this output: but when i make that http request to in powershell, the response is ...: -method ""put"" -headers @ ""accept""=""application/json"" ""authorization""=""bearer mytoken "" -body "" "":1 "" statuscode : 200 statusdescription : ok content : ""id"":1,""type"":""three day"" rawcontent : http/1.1 200 ok date: fri, 12 sep 2025 17:57:29 gmt transfer-encoding: chunked connection: keep-alive vary: origin vary: access-control-request-method vary: access-control-request-headers vary:‚Ä¶ headers : date, system.string , transfer-encoding, system.string , connection, system.string , vary, system.string ‚Ä¶ images : inputfields : links : rawcontentlength : 27 relationlink : ` could someone guide me to a solution? thanks in advance! ps obviously, myzone and mytoken are placeholders for privacy reasons."
7028,requests/requests,tor request,"hello, does requests allow you to make requests on tor urls, urls in .onnion, or is this project not suitable?","tor request hello, does requests allow you to make requests on tor urls, urls in .onnion, or is this project not suitable?"
7027,requests/requests,@ziavai777,@ziavai777 originally posted by @ziavai777 in,@ziavai777 @ziavai777 originally posted by @ziavai777 in
6751,requests/requests,requests 2.31.0 - unhashable type 'list' for 'cert' parameter,"subject the requests.get parameter used to accept 'cert' as a tuple or list, and this may be a regression from 1165 environment all steps to reproduce expected behavior from requests == 2.31.0:","requests 2.31.0 - unhashable type 'list' for 'cert' parameter subject the requests.get parameter used to accept 'cert' as a tuple or list, and this may be a regression from 1165 environment all steps to reproduce expected behavior from requests == 2.31.0:"
7022,requests/requests,create db.py,"!-- summary. -- expected result !-- what you expected. -- actual result !-- what happened instead. -- reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","create db.py !-- summary. -- expected result !-- what you expected. -- actual result !-- what happened instead. -- reproduction steps system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
6800,requests/requests,attributeerror: 'request' object has no attribute 'authorize',"there seems to be a call to request.authorize. shouldn't that be request.auth? error system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","attributeerror: 'request' object has no attribute 'authorize' there seems to be a call to request.authorize. shouldn't that be request.auth? error system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
6699,requests/requests,attributeerror: 'nonetype' object has no attribute 'setdefault' on environment proxies,"attributeerror: 'nonetype' object has no attribute 'setdefault' on environment proxies it appears there is a small bug in ‚Äé where the proxies variable can be but setdefault is called on it anyway when env proxies are present, causing an attributeerror to be thrown:","attributeerror: 'nonetype' object has no attribute 'setdefault' on environment proxies attributeerror: 'nonetype' object has no attribute 'setdefault' on environment proxies it appears there is a small bug in ‚Äé where the proxies variable can be but setdefault is called on it anyway when env proxies are present, causing an attributeerror to be thrown:"
6542,requests/requests,cookies with are not sent for via unencrypted,"see the title, cookies are not sent in requests to if those requests are not encrypted. there should probably be an exception for as there is in browsers, as well to aid in developing servers. expected result the cookies should be sent with the request. actual result they aren't. reproduction steps and running the flask app with and then running the requests with throws an exception in , while in a browser the page does show ""logged in"" after visiting . system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --","cookies with are not sent for via unencrypted see the title, cookies are not sent in requests to if those requests are not encrypted. there should probably be an exception for as there is in browsers, as well to aid in developing servers. expected result the cookies should be sent with the request. actual result they aren't. reproduction steps and running the flask app with and then running the requests with throws an exception in , while in a browser the page does show ""logged in"" after visiting . system information $ python -m requests.help !-- this command is only available on requests v2.16.4 and greater. otherwise, please provide some basic information about your system python version, operating system, &c . --"
7024,requests/requests,about request.session,"hi, i have a special scenarios that there is a process called a continuously produces data while a process called b post the data to a url, the following is a fragment of process b pseudocode: the loop above is expected to continue even if an exception occurs, so the question is: if something wrong causes session invalid, does it throw exceptions Ôºü if so, how to handle it so the loop continues ?","about request.session hi, i have a special scenarios that there is a process called a continuously produces data while a process called b post the data to a url, the following is a fragment of process b pseudocode: the loop above is expected to continue even if an exception occurs, so the question is: if something wrong causes session invalid, does it throw exceptions Ôºü if so, how to handle it so the loop continues ?"
7021,requests/requests,@ziavai777,,@ziavai777
7020,requests/requests,reqable docs,,reqable docs
7018,requests/requests,remove unused argument from urllib3 request context,"in the takes a 4th argument that is not used in the function at all. the is only used in one place in the same file . i can make a pr to remove the extra argument, if that's okay? i took the liberty of making the change on my machine and got as the result.","remove unused argument from urllib3 request context in the takes a 4th argument that is not used in the function at all. the is only used in one place in the same file . i can make a pr to remove the extra argument, if that's okay? i took the liberty of making the change on my machine and got as the result."
6954,requests/requests,class headerdict rest requests.packages.urllib3. collections.httpheaderdict : attributeerror: module 'requests' has no attribute 'packages',"fix released in 2.17.2! originally posted by @kennethreitz in 4104 im using requests 2.32.3 with djangorestframework 3.16.0 but im still having the same problem: this commit seems to have broken requests.packages. from rest framework.test import apitestcase frozen importlib. bootstrap :1360: in find and load ??? frozen importlib. bootstrap :1331: in find and load unlocked ??? frozen importlib. bootstrap :935: in load unlocked ??? ..\.venv\lib\site-packages\ pytest\assertion\rewrite.py:185: in exec module exec co, module. dict ..\.venv\lib\site-packages\rest framework\test.py:27: in module class headerdict rest requests.packages.urllib3. collections.httpheaderdict : attributeerror: module 'requests' has no attribute 'packages' error users/tests.py - attributeerror: module 'requests' has no attribute 'packages' somebody please help me","class headerdict rest requests.packages.urllib3. collections.httpheaderdict : attributeerror: module 'requests' has no attribute 'packages' fix released in 2.17.2! originally posted by @kennethreitz in 4104 im using requests 2.32.3 with djangorestframework 3.16.0 but im still having the same problem: this commit seems to have broken requests.packages. from rest framework.test import apitestcase frozen importlib. bootstrap :1360: in find and load ??? frozen importlib. bootstrap :1331: in find and load unlocked ??? frozen importlib. bootstrap :935: in load unlocked ??? ..\.venv\lib\site-packages\ pytest\assertion\rewrite.py:185: in exec module exec co, module. dict ..\.venv\lib\site-packages\rest framework\test.py:27: in module class headerdict rest requests.packages.urllib3. collections.httpheaderdict : attributeerror: module 'requests' has no attribute 'packages' error users/tests.py - attributeerror: module 'requests' has no attribute 'packages' somebody please help me"
7006,requests/requests,modulenotfounderror,"file ""/usr/lib/python3.13/site-packages/requests/ init .py"", line 43, in module import urllib3 file ""/usr/lib/python3.13/site-packages/urllib3/ init .py"", line 14, in module from . import exceptions file ""/usr/lib/python3.13/site-packages/urllib3/exceptions.py"", line 7, in module from import incompleteread as modulenotfounderror: no module named ' ' is not a package","modulenotfounderror file ""/usr/lib/python3.13/site-packages/requests/ init .py"", line 43, in module import urllib3 file ""/usr/lib/python3.13/site-packages/urllib3/ init .py"", line 14, in module from . import exceptions file ""/usr/lib/python3.13/site-packages/urllib3/exceptions.py"", line 7, in module from import incompleteread as modulenotfounderror: no module named ' ' is not a package"
7002,requests/requests,teat,,teat
6775,requests/requests,with setuptools 72.0.0 requests can no longer be installed from git,expected result gives me the latest development version of . actual result installation fails due to an import in setup.py see the setuptools changelog: the test command has been removed. users relying on ‚Äòsetup.py test‚Äô will need to migrate to another test runner or pin setuptools before this version. 931 reproduction steps create a venv with latest setuptools. then run .,with setuptools 72.0.0 requests can no longer be installed from git expected result gives me the latest development version of . actual result installation fails due to an import in setup.py see the setuptools changelog: the test command has been removed. users relying on ‚Äòsetup.py test‚Äô will need to migrate to another test runner or pin setuptools before this version. 931 reproduction steps create a venv with latest setuptools. then run .
7001,requests/requests,dynamic import causing filenotfounderror in shrinkwrapped applications after deployment of new versioon,the dynamic import in the referenced code above is causing errors with shrinkwrapped scripts whenever we try to replace an old version with a new one while an old script is running because the old script execution tries to access a python path that has been replaced by the new version of the script. see the sequence of events below: 1. script.v1.0 running 2. script.v2.0 is deployed to replacev1.0 3. running script.v.1.0 makes a post request and fails at the dynamic upload with filenotfounderror,dynamic import causing filenotfounderror in shrinkwrapped applications after deployment of new versioon the dynamic import in the referenced code above is causing errors with shrinkwrapped scripts whenever we try to replace an old version with a new one while an old script is running because the old script execution tries to access a python path that has been replaced by the new version of the script. see the sequence of events below: 1. script.v1.0 running 2. script.v2.0 is deployed to replacev1.0 3. running script.v.1.0 makes a post request and fails at the dynamic upload with filenotfounderror
